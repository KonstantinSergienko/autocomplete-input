(this["webpackJsonpmotion-logic"]=this["webpackJsonpmotion-logic"]||[]).push([[0],{15:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfkBRsLOTFd9s67AAABMElEQVQ4y8XTv0pjURCA8Z8Wib3mrgnGd1DiW7ja+yAq+AJBfA1xt9tqF7aLQrCw0kIQEm2ijdgmUS5joeKNuR7snFOdj/lmmPOH91i268StsYFjO5oSMefASEysoX3V8vTMqZA7tK6uou6nI7nQVSurfir0rHzgq/pCd7rLgdArqyTTF9qTcNlIPlX9LVpyQ0tFtCscJo7jl7BdBCfCekLYEDpFcCcsJoSGMCiCsVBJCFVh/L6ddY/5hLCAh6LQQyshtHBVFP5iKyFs4X8RNA3lVj9JX5MbqU/CfaEvK0n/4Wb6pqnqCv2pSdZcC09lz7ymK+SObGioaNj0Wy48CRdl3avahh/+w0hb08VnCku2dQw8utOx9zpqllLKo+ZcuEw+oG9RXmY5m/m6IfPPn2frZ3hOQEcKcAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMC0wNS0yN1QxMTo1Nzo0OSswMDowMNkTRxsAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjAtMDUtMjdUMTE6NTc6NDkrMDA6MDCoTv+nAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg=="},17:function(e,t,i){e.exports=i(28)},22:function(e,t,i){},24:function(e,t,i){},25:function(e,t,i){},26:function(e,t,i){},28:function(e,t,i){"use strict";i.r(t);var a,n,r,c,s,o,l,u,A,h=i(0),m=i.n(h),p=i(14),f=i.n(p),b=i(4),C=i(3),d=i(7),y=i(8),g=i(9),j=i(15),v=i.n(j),O=(i(22),Object(b.c)(a=function(e){Object(g.a)(i,e);var t=Object(y.a)(i);function i(){var e;Object(C.a)(this,i);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).handlerChange=function(t){var i=e.props,a=i.onChange,n=i.requestCities,r=t.target.value;t.preventDefault(),a(r),n(r)},e}return Object(d.a)(i,[{key:"render",value:function(){var e=this,t=this.props,i=t.value,a=t.placeholder,n=t.autocomplete,r=t.addCity;return m.a.createElement("div",{className:"text-input-wrapper"},m.a.createElement("input",{type:"text",className:"text-input",value:i,placeholder:a,onChange:function(t){return e.handlerChange(t)}}),m.a.createElement("img",{src:v.a,className:"search-picture",alt:"search"}),m.a.createElement("datalist",{className:"autocomplete",style:0!==n.length?{display:"block"}:{display:"none"}},n.map((function(e,t){return m.a.createElement("option",{key:t,className:"option",onClick:function(){return r(e.name)}},e.name)}))))}}]),i}(m.a.Component))||a),E=(i(24),i(25),i(26),Object(b.b)("store")(n=Object(b.c)(n=function(e){Object(g.a)(i,e);var t=Object(y.a)(i);function i(){var e;Object(C.a)(this,i);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).renderCities=function(){var t=e.props.store,i=t.cities,a=t.removeCity;return i.map((function(e,t){return m.a.createElement("li",{className:"list-item"},m.a.createElement("p",null,e),m.a.createElement("div",{className:"line"}),m.a.createElement("button",{onClick:function(){return a(t)},className:"delete-cross"}))}))},e}return Object(d.a)(i,[{key:"render",value:function(){var e=this.props.store,t=e.cities,i=e.inputCity,a=e.autocompleteArray,n=e.addCity,r=e.getCitiesFromFias;return m.a.createElement("div",{className:"app"},m.a.createElement("div",{className:"search-block"},m.a.createElement(O,Object.assign({},i,{requestCities:r,autocomplete:a,addCity:n,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u043e\u0440\u043e\u0434\u0430"})),m.a.createElement("button",{onClick:function(){return n(i.value)},className:"add-button"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")),m.a.createElement("ul",{className:"cities-list"},0!==t.length?this.renderCities():m.a.createElement("li",{className:"list-item"},"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u0443\u0441\u0442...")))}}]),i}(m.a.Component))||n)||n),N=i(10),F=i.n(N),w=i(16),k=i(5),B=i(6),Q=(i(13),i(1)),S=(r=function e(t){var i=this;Object(C.a)(this,e),Object(k.a)(this,"value",c,this),this.onChange=function(e){i.value=e},this.value=t||"",this.onChange=Object(Q.f)(this.onChange)},c=Object(B.a)(r.prototype,"value",[Q.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r),M=new(s=function e(){var t=this;Object(C.a)(this,e),Object(k.a)(this,"cities",o,this),Object(k.a)(this,"inputCity",l,this),Object(k.a)(this,"autocompleteArray",u,this),Object(k.a)(this,"clear",A,this),this.getCitiesFromFias=function(){var e=Object(w.a)(F.a.mark((function e(i){var a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i.length<3)){e.next=3;break}return t.clear(),e.abrupt("return");case 3:return e.next=5,fetch("https://kladr-api.ru/api.php?query=".concat(i,"&contentType=city&typeCode=1&limit=5"));case 5:a=e.sent,a.json().then((function(e){e.result.shift(),t.autocompleteArray=e.result})).catch((function(e){return console.error(e)}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getCitiesFromSession=function(){var e=sessionStorage.getItem("cities");if(e)return e.split(",")},this.removeCity=function(e){t.cities=t.cities.filter((function(t,i){return i!==e})),sessionStorage.setItem("cities",t.cities)},this.addCity=function(e){e&&(t.cities.push(e),t.inputCity.onChange(""),t.clear(),sessionStorage.setItem("cities",t.cities))},this.cities=this.getCitiesFromSession()||[],this.inputCity=new S,this.autocompleteArray=[],this.removeCity=Object(Q.f)(this.removeCity),this.addCity=Object(Q.f)(this.addCity),this.getCitiesFromFias=Object(Q.f)(this.getCitiesFromFias)},o=Object(B.a)(s.prototype,"cities",[Q.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=Object(B.a)(s.prototype,"inputCity",[Q.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=Object(B.a)(s.prototype,"autocompleteArray",[Q.m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=Object(B.a)(s.prototype,"clear",[Q.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.autocompleteArray=[]}}}),s);f.a.render(m.a.createElement(b.a,{store:M},m.a.createElement(E,null)),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.7939febd.chunk.js.map